# :books: MindPal 文件

:::info
**113學年度 中央大學資訊管理學系 畢業專題**

**MindPal AI心理小夥伴 開發文件**

**指導教授：陳彥良 教授**

**系所：中央大學資訊管理學系**

**組員：陳芊宇、顏嘉緯、王釋緯、劉浩倫、黃亮穎**
:::

# :page_facing_up: 文件分工

### :bulb: 做完記得打勾勾哦
>
> 黃色框框為使用案例規格
>
### 顏嘉緯

- [x] 1.5.3 開發語言前後端架構
- [x] 1.5.4 專案工作項目
- [x] 1.6 使用者定位
- [ ] 2.1 專案架構
- [x] 2.2 系統軟、硬體需求與技術平台
- [x] 2.3 使用標準與工具

:::warning

#### :pushpin: 心理狀態偵測子系統

- [x] 心理狀態偵測
- [x] 查看心理狀態光譜
- [x] 關懷程度分群
- [x] 生活近況關鍵字分析

:::

### 陳芊宇

- [x] 1.5.2 系統前端樣式說明

:::warning

#### :pushpin: 情緒日誌子系統

- [x] 新增情緒日誌
- [x] 刪除情緒日誌
- [x] 修改情緒日誌
- [x] 查詢情緒日誌
- [x] 瀏覽情緒日誌
- [x] 查看每日心情小語

:::
:::warning

#### :pushpin: 案主子系統

- [x] 案主儀錶板
- [x] 檢視所有案主
- [x] 查詢所有案主
- [x] 案主狀況筆記
- [x] 諮商師與案主留言
- [x] 諮商師與案主配對
- [x] 結束案主合作

:::

### 黃亮穎

- [x] 3.1 使用案例圖

:::warning

#### :pushpin: 會員子系統

- [ ] 註冊會員
- [ ] 會員登入
- [ ] 忘記密碼
- [ ] 修改會員資訊
- [ ] 查詢會員
- [ ] 瀏覽所有會員
- [ ] 刪除會員

:::
:::warning

#### :pushpin: 管理員子系統

- [ ] 新增管理員
- [ ] 刪除管理員
- [ ] 查詢管理員
- [ ] 修改管理員資訊
- [ ] 瀏覽所有管理員

:::

### 王釋緯

- [x] 1.1專案簡介
- [x] 1.2專案名稱
- [x] 1.3專案目的與動機
- [x] 1.4專案目標
- [ ] 2.4.1 系統功能清單 (模組、使用案例 簡單說明)
- [ ] 2.5 非功能性需求

:::warning

#### :pushpin: AI智能諮商子系統

- [ ] AI智能諮商
- [ ] 情緒異常偵測
- [ ] 緊急通報
- [ ] 檢視AI諮商摘要
- [ ] 檢視AI諮商紀錄

:::

### 劉浩倫

- [x] 1.5.1 專案系統功能綜效
- [x] 2.4.2 功能清單概述

:::warning

#### :pushpin: 諮商日程子系統

- [x] 新增諮商日程
- [x] 刪除諮商日程
- [x] 修改諮商日程
- [x] 檢視諮商日程
- [x] 檢視諮商行事曆

:::
:::warning

#### :pushpin: 諮商師子系統

- [ ] 諮商師註冊
- [ ] 諮商師登入
- [ ] 忘記密碼
- [ ] 諮商師修改資訊
- [ ] 刪除諮商師
- [ ] 檢視所有諮商師
- [ ] 諮商師推薦

:::

# :desktop_computer: 開發分工

### 顏嘉緯

- 後端

### 陳芊宇

### 黃亮穎

### 王釋緯

### 劉浩倫

# :construction: LLM架構
>
> 在新知識上使用 RAG 去做知識庫建置，然後再定期每段時間進行 Fine-Tuned 模型，來幫助大家在新知識與模型能夠都能夠持續收集和進步，詳情可以看以下的架構：
![Screenshot 2024-04-30 at 6.23.41 PM](https://hackmd.io/_uploads/BJdnUHR-R.png)

# :hammer_and_wrench: 關鍵技術

- ChatGPT API
    > LLM
    >
    > [reference link] <https://platform.openai.com/docs/overview>
- Fined Tuning
    > 藉由資料集微調模型，優化LLM
    >
    > [reference link] <https://www.explainthis.io/zh-hant/ai/fine-tuning-gpt>
- RAG
    > 檢索增強生成，優化LLM
    >
    > [reference link] <https://blog.infuseai.io/rag-retrieval-augmented-generation-introduction-a5854cb6393e>
- Docker
    > 容器化管理應用，自動化部署
- Scrum
    > 敏捷開發
    >
    > [reference link] <https://aws.amazon.com/tw/what-is/scrum/>
- PostgreSQL
    > 關聯式資料庫、可儲存JSON格式之檔案
    >
    > [reference link] <https://www.alibabacloud.com/help/tc/analyticdb-for-postgresql/developer-reference/operations-of-json-data>
- PgAdmin
    > 資料庫管理：GUI
- Store Procedure
    > 資料庫優化：安全性、降低流量
- Flutter
    > Mobile App 前端框架
- Nginx
    > 反向代理、負載平衡
- FastAPI
    > Back-end Application
- Gunicorn
    > FastAPI WSGI Server
- LangChain
    > ChatGPT API 開發框架
    >
    > [reference link] <https://github.com/liaokongVFX/LangChain-Chinese-Getting-Started-Guide>
- PlantUML
    > Sequence Diagram
    >
    > [reference link] <https://plantuml.com/sequence-diagram>
- Figma
    > UI

# :speech_balloon: 問題討論
>
> 範例 :arrow_down:
>
### :small_orange_diamond: Q: 為什麼...?
>
> [name=William Yen] [time=Mon, Apr 29, 2024 11:38 PM]
> 因為...

# :paperclip: 備案

### 資料隱私問題
>
>現階段因開發資源的限制只能使用chatGPT API, 可以提供「使用本地端LLM」所需的運算資源、Fined-tuning方式、預計成效的survey。
>
### App 部署問題
>
>要詳細描述Andriod端跟iOS端的部署所需技術、法規、經費以及時間。
>
### 問卷問題
>
>性別、年齡層、每日發訊息的次數（為了算token數，估算成本）、使用意願、是否為諮商需求者、是否有實體諮商經驗、是否正在接受心理治療
>
# :page_with_curl: 文件內容

## 第一章-專案說明

### 1.1 專案簡介

#### :small_blue_diamond: 客戶端使用的APP

:::info

1. AI諮商師
2. 心情日誌
3. 諮商師媒合
4. 心理狀態光譜
5. 情緒異常偵測
6. 緊急通報
7. 留言給諮商師

:::

#### :small_blue_diamond: 諮商師端使用的網頁平台

:::info

1. 案主儀表板
2. 案主諮商紀錄
3. 案主諮商紀錄摘要
4. 案主媒合
5. 案主心理狀態光譜
6. 案主潛在憂鬱症偵測
7. 案主近況關鍵字
8. 諮商時程規劃
9. 留言給案主
10. 緊急通報

:::

### 1.2 專案名稱

#### Mind Pal AI智能諮商小夥伴

### 1.3 專案目的與動機

#### :small_blue_diamond: 心理疾病的普及

- 現在的社會心理疾病越來越常見，許多人都患有憂鬱症、焦慮症、躁鬱症等心理病，許多身邊的同學和家人都深受心理疾病的折磨，有些人不知道自己有這樣的疾病，甚至否定心理及疾病的存在，心理健康在現今的社會中未受到足夠的重視。

#### :small_blue_diamond: 統計上的黑數

- 根據統計，患有憂鬱症的人中只有兩成願意就醫，沒有就醫的人則必須帶著心理 疾病面對生活的各種困難和壓力。更別提未被統計倒的黑數，許多人生了病不敢 尋求幫助、不知道怎麼尋求幫助、尋求了幫助卻被拒絕。我們遇過的案例包括播 打1925的專線卻遇到忙線中這種情況。我們希望我們的系統可以滿足現有資源的不足。

#### :small_blue_diamond: 諮商的現況

- 患有心理疾病的人數逐年增加，然而諮商師的數量卻沒有因此隨之增加，導致供不應求的情況。 諮商的方便性也是一大問題，許多時候諮商的時間、地點、諮商師是否能配合皆是常見的問題。有一部分的人即使患有憂鬱症，也不願意和諮商師對談。我們希望我們的系統可以彌補這一部份的缺失。

### 1.4 專案目標

#### 我們希望可以達到以下目標 :arrow_down:

:::info

1. 提供患有心理疾病的人需要的幫助
2. 提供沒有諮商師的人諮商的資源(AI 夥伴)
3. 協助諮商師密切關注他的客戶們，讓諮商師在實體諮商時提前了解客戶的情形
4. 讓使用者更了解心理疾病也更了解自己

:::

### 1.5 專案範圍

> 以下說明本專案之應用系統功能範圍、開發程式需求與部分模組之介面。

#### :small_blue_diamond:1.5.1 專案系統功能綜效

- 此系統主要提供會員與AI進行智能諮商、情緒日誌與諮商師媒合功能、提供諮商師管理、紀錄案主並利用媒合功能幫助所需客群。用戶在諮商前需要先成功登入系統，即只有系統會員才能進行智能諮商。當會員在諮商期間，系統將會記錄過程中的對話紀錄並用於情緒異常偵測、諮商摘要 /日誌製作及在必要時緊急通報其所屬諮商師以便及時關心。

- 會員端之系統主頁會顯示情緒光譜、上回諮商摘要與心情小語。情緒光譜會依照會員在情緒日誌所記錄之資訊生成。心情小語為系統每日自動生成。

- 情緒日誌頁面提供會員當日心情、參加活動、情緒日誌等空格填寫，並可修改、儲存當日之日誌。系統會依照會員所提供之日誌內容生成情緒光譜顯示給會員和諮商師雙方且在系統背景進行憂鬱程度分群與偵測潛在憂鬱症指數等紀錄在諮商師端。

- 諮商師媒合頁面中，如果已經有諮商師之案主可看到該諮商師相關資訊、諮商師給客戶的留言、其他會員給予諮商師的留言與諮商師本人所設定的下次諮商日程。

- 若是沒有對應諮商師的會員則顯示系統推薦之諮商師、諮商師媒合的表單。系統推薦會將諮商師與專長一同呈現，諮商師媒合表單可填寫希望諮商之議題、困擾程度與諮商師之排序，可將最多三位的諮商師以最想要配對的順序由上往下排序。點擊提交按鈕則會把表單寄送至諮商師端，由諮商師確認是否接案，若有兩名或以上的諮商師同時接案則會以優先度最高者為優先。
ㄊ
- 諮商師端以網頁的形式呈現，在使用此網頁前需要先成功登入系統，即只有系統會員( 諮商師 )才能進行諮商師端管理。主頁以聊天室的方式呈現各案主的相關指標，包含心理狀態光譜、上回諮商摘要、嚴重程度分群、潛在憂鬱症指數、近況關鍵字、下次諮商排程、給客戶的留言。嚴重程度分群為系統透過諮商紀錄與相關案例，進行的粗略客戶分群。潛在憂鬱症指數為系統透過諮商紀錄、相關案例與網路資料所生成的指數，顯示從案主的對話情形可推得之潛在憂鬱症指數。近況關鍵字為系統透過諮商紀錄、案主與諮商師媒合時所提出之議題加以綜合生成，最能代表案主之數個關鍵詞。

- 案主管理頁面包含新案主媒合要求與案主管理。系統會顯示所有提交給諮商師的媒合表單，由諮商師判斷是否要接受該會員成為案主。案主管理會顯示客戶個人資料(如姓名、諮商議題)、成為案主之時間與查看詳細資料、結束諮商關係之功能。

- 諮商師個人資料頁面可編輯諮商師要提供給案主的相關資訊，如姓名、電話、聯絡方式。

- 此系統會各以App與網頁的形式製作，並會使用flutter和dart為開發框架與語言。

- 由以上之專案需求，此專案之App、網站主要由以下功能模組所構成，與伺服器溝通之資料格式統一為JSON格式：

- **App首頁**：

  - 提供訪客登入此諮商系統的頁面 /提供登入之會員查看心理光譜、上回諮商摘要、心情小語。

- **網頁首頁** :

  - 提供未登入之諮商師能登入系統的網站頁面 /提供登入之諮商師查看各案主相關指標，如光譜、上回諮商摘要、嚴重程度分群、潛在憂鬱症指數、議題關鍵字、下次諮商排程、給客戶的留言，並可在此頁面編輯諮商排程與給案主的留言。

- **會員** :

  - 本系統之會員可管理自己的資料（姓名、密碼、連絡電話、電子郵件），並進行登入、登出、忘記密碼等動作。
  - 原非系統之會員者可進行註冊並成為系統會員。
  - 管理者可管理所有會員資料，包含檢視、修改（姓名、密碼、連絡電話、電子郵件）、刪除等動作。

- **情緒日誌**：

  - 提供會員填寫情緒日誌，其由會員當日心情、參加活動、情緒日誌所組成。會員可以新增、刪除、修改每日的日誌，過去的日誌只提供檢視的功能。

- **管理員**:

  - 提供未登入之管理員登入系統，已登入之管理員可修改自身資訊。

- **AI智能諮商**:

  - 提供會員進行智能諮商、查看諮商紀錄。系統會自動進行情緒異常偵測並在必要時刻提供諮商師進行緊急通報。提供會員與諮商師檢視上回諮商之摘要。

- **心理狀態檢測**:

  - 提供諮商師查看各案主依照諮商過程所產生的心理光譜、潛在憂鬱症指數、嚴重程度分群、近況關鍵字。

- **諮商日程**:

  - 提供諮商師進行新增、修改、刪除尚未過期之諮商排程、可檢視過去已過期與已新增但尚未過期之諮商排程。

- **案主管理**：

  - 提供諮商師可對其處理之案主關係進行新增、刪除、修改、檢視、查詢。
  - 提供管理員可對所有案主關係進行新增、刪除、修改、檢視、查詢。

- **諮商師**:

  - 提供尚未成為諮商師者進行註冊。
  - 提供諮商師修改自身資訊、更改留言、檢視留言。
  - 提供尚未配對之會員推薦諮商師與諮商師媒合，媒合之表單由希望諮商之議題、困擾程度與諮商師之排序所組成。
  - 提供已配對的會員新增留言、檢視留言。
  - 提供管理員可對所有諮商師進行刪除、修改、檢視。

#### :small_blue_diamond:1.5.2 系統前端樣式說明

[MindPal system UI design -- Figma](https://www.figma.com/file/q0sfhneH3pjn7pT49BvE7d/MindPal-system-UI-design?type=design&node-id=0%3A1&mode=design&t=S5wQJmcJO6sjZuAP-1)

- AI諮商模組
  - AI智能諮商 (文字對話)

    ![Minion](<https://hackmd.io/_uploads/r1BLBHWfR.png> =244x528)

  - AI智能諮商 (語音對話)

    ![Minion](<https://hackmd.io/_uploads/ByXwBrWMC.png> =244x528)

  - AI智能諮商 (語音對話輸出)

    ![Minion](<https://hackmd.io/_uploads/r1CwHrbzC.png> =244x528)

- 情緒日誌模組
  - 瀏覽所有情緒日誌

    ![Minion](<https://hackmd.io/_uploads/Hk5idrWz0.png> =244x528)

  - 新增情緒日誌

    ![Minion](<https://hackmd.io/_uploads/HJvwdrZf0.png> =244x528)

  - 情緒日誌內容

    ![Minion](<https://hackmd.io/_uploads/B1m7tBZfA.png>_ =244x528)

- 心理狀態偵測模組
  - 會員心理狀態儀表板 (心理光譜、前一次AI諮商紀錄)

    ![Minion](<https://hackmd.io/_uploads/SykbqBbGC.png>_ =244x528)

  - 案主心理狀態儀表板 (心理光譜、關懷程度分群、生活近況關鍵字)

    ![Minion](https://hackmd.io/_uploads/HJiu9rbGC.png)

- 諮商日程模組
  - 諮商行事曆

    ![Minion](https://hackmd.io/_uploads/rJLBnrbG0.png)

  - 查看/編輯諮商日程

    ![Minion](https://hackmd.io/_uploads/HkoD3rbG0.png)

- 會員模組
  - 個人資訊維護 (會員)

    ![Minion](<https://hackmd.io/_uploads/HJ5s2B-MC.png>_ =244x528)

  - 編輯個人資訊 (會員)

    ![Minion](<https://hackmd.io/_uploads/r10ZaSZGC.png>_ =244x528)

  - 會員列表 (管理者)

    ![Minion](https://hackmd.io/_uploads/BkQSTr-MC.png)

- 案主模組
  - 案主管理列表 (諮商師)

    ![Minion](https://hackmd.io/_uploads/rylr6lMM0.png)

  - 諮商師與案主管理 (管理員)

    ![Minion](https://hackmd.io/_uploads/H1UOpefz0.png)

- 諮商師模組
  - 諮商師資訊 (會員，有所屬諮商師)

    ![Minion](<https://hackmd.io/_uploads/Hk140xfMA.png>_ =244x528)

  - 諮商師推薦 (會員，無所屬諮商師)

    ![image](<https://hackmd.io/_uploads/ryM0AeGM0.png>_ =244x528)

  - 諮商師列表 (會員)

    ![image](<https://hackmd.io/_uploads/HkyNkbzfR.png>_ =244x528)

  - 諮商師列表 (管理員)
    ![Minion](https://hackmd.io/_uploads/HyPUkZMMC.png)

- 管理員模組
  - 管理員列表

    ![Minion](https://hackmd.io/_uploads/H1-FkZzfR.png)

  - 管理員個人資訊維護

    ![Minion](https://hackmd.io/_uploads/r1051-GMA.png)

  - 系統異動紀錄
    ![Minion](https://hackmd.io/_uploads/BkD3J-zG0.png)

#### :small_blue_diamond:1.5.3 開發語言前後端架構

- 本系統使用Dart及Flutter作為行動應用程式和網頁的前端開發語言和框架，前後端資料傳輸溝通與API使用HTTP資料傳輸協定並且以JSON格式為基準，後端則是以Python及FastAPI為主要撰寫之程式語言和框架。資料庫以PostgreSQL關聯式資料庫為主，用以存放會員、聊天記錄、諮商日誌等資料。
- 行動應用程式必須可於 Andriod與iOS上正確執行，網頁必須可於 Chrome、Edge、Safari 與 Firefox 瀏覽器上正確執行，且本系統應有適當之備援機制之考量，採即時或每日備份、備援，應提供相關之備份與備援機制之建議。

#### :small_blue_diamond:1.5.4 專案工作項目
>
>本專案之系統開發採用軟體工程進行，應包含以下工作項目，同時應交付相關之文件或程式碼以確認該項工作正確完成：
:::info

1. 需求確認與訂定。
2. 系統分析與設計。
3. 介面設計。
4. 雛型開發展示與確認。
5. 資料庫建置。
6. 程式開發。
7. 系統整合測試。

:::

### 1.6 使用者定位
>
>本專案鎖定對使用MindPal app即時心理諮商服務感興趣之使用者，願意且接受使用資訊科技之客群,提供相關諮商、會員與紀錄管理之服務,因此就本專案系統將所有可能之使用者主要分為三種角色，訪客、會員及諮商師，以下說明各使用者主要可操作之功能：

- **訪客**：可瀏覽MindPal app的基本功能介紹與進行會員登入操作。

- **會員**：訪客經註冊後成為會員，會員可使用即時AI諮商(ChatGPT)服務，情緒異常偵測(被動)，且可查詢AI諮商日誌(諮商紀錄)。

- **諮商師**：可查看所負責案主的諮商紀錄及情緒狀況，利用案主狀況儀表板(個案統整)掌握案主近況，提供更有效率的諮商服務。

- **管理員**：可管理會員和諮商師的使用者權限與資料。

## 第二章-專案需求說明

### 2.1 專案架構
>
> 系統架構圖示
![mindpal_system_design](https://hackmd.io/_uploads/Hk_M38Qz0.png)

### 2.2 系統軟、硬體需求與技術平台
>
>後端伺服器規格表

<table>
    <tr>
        <td>作業系統</td>
        <td>Ubuntu 版本尚未決定</td>
    </tr>
    <tr>
        <td>開發環境</td>
        <td>macOS 或 Windows 11</td>
    </tr>
    <tr>
        <td>整合式開發環境(IDE)</td>
        <td>Visual Studio Code 2024</td>
    </tr>
    <tr>
        <td>程式語言</td>
        <td>Python 3.12</td>
    </tr>
    <tr>
        <td>框架</td>
        <td>FastAPI 0.111.0</td>
    </tr>
    <tr>
        <td>套件管理</td>
        <td>pip</td>
    </tr>
    <tr>
        <td>伺服器</td>
        <td>Nginx 1.26.0</td>
    </tr
</table>

>前端網頁規格表

<table>
    <tr>
        <td>開發環境</td>
        <td>macOS 或 Windows 11</td>
    </tr>
    <tr>
        <td>整合式開發環境(IDE)</td>
        <td>Visual Studio Code 2024</td>
    </tr>
    <tr>
        <td>程式語言</td>
        <td>JavaScript</td>
    </tr>
    <tr>
        <td>框架</td>
        <td>無</td>
    </tr>
</table>

>前端APP規格表

<table>
    <tr>
        <td>開發環境</td>
        <td>macOS 或 Windows 11</td>
    </tr>
    <tr>
        <td>整合式開發環境(IDE)</td>
        <td>Visual Studio Code 2024</td>
    </tr>
    <tr>
        <td>程式語言</td>
        <td>Dart</td>
    </tr>
    <tr>
        <td>框架</td>
        <td>Flutter 3.19.3</td>
    </tr>
    <tr>
        <td>套件管理</td>
        <td>pub</td>
    </tr>
</table>

>資料庫規格表

<table>
    <tr>
        <td>資料庫</td>
        <td>PostgreSQL 16.2</td>
    </tr>
</table>

### 2.3 使用標準與工具

> 使用標準與工具表
<table>
    <tr>
        <td>編輯器</td>
        <td>Visual Studio Code</td>
    </tr>
    <tr>
        <td>資料庫管理工具</td>
        <td>PgAdmin4</td>
    </tr>
    <tr>
        <td>版本控制工具</td>
        <td>Git</td>
    </tr>
    <tr>
        <td>版本控管</td>
        <td>GitHub</td>
    </tr>
    <tr>
        <td>後端應用管理</td>
        <td>Docker</td>
    </tr>
    <tr>
        <td>API測試工具</td>
        <td>Postman</td>
    </tr>
    <tr>
        <td>API文件</td>
        <td>Swagger</td>
    </tr>
    <tr>
        <td>文件撰寫工具</td>
        <td>HackMD</td>
    </tr>
    <tr>
        <td>文件製作</td>
        <td>Microsoft word office 365</td>
    </tr>
    <tr>
        <td>UML製作工具</td>
        <td>draw.io、plantUML</td>
    </tr>
    <tr>
        <td>使用者介面設計工具 </td>
        <td>Figma</td>
    </tr>
    <tr>
        <td>雛形設計</td>
        <td>Figma</td>
    </tr>
    <tr>
        <td>簡報製作</td>
        <td>Microsoft PowerPoint office 365</td>
    </tr>
    <tr>
        <td>專案管理工具</td>
        <td>HackMD</td>
    </tr>
    <tr>
        <td>線上會議軟體</td>
        <td>Discord</td>
    </tr>
</table>

### 2.4 功能性需求

#### :small_blue_diamond:2.4.1 系統功能清單

<table>
    <tr>
        <td>模組</td>
        <td>說明</td>
        <td>功能名稱</td>
        <td>說明</td>
    </tr>
    <tr>
        <td rowspan="7">(1)會員管理模組</td>
        <td rowspan="7">
            會員可以註冊、登<br>
            入、登出、忘記密<br>
            碼、修改資訊。
        </td>
        <td>1.1 會員註冊</td>
        <td>
            使用者能註冊成為<br>
            會員。
        </td>
    </tr>
    <tr>
        <td>1.2 會員登入</td>
        <td>
            會員能使用帳號密<br>
            碼登入系統。
        </td>
    </tr>
    <tr>
        <td>1.3 忘記密碼</td>
        <td>訪客可透過此功能<br>
            ，利用寄送到註冊<br>
            信箱的驗證碼來找<br>
            回密碼。</td>
    </tr>
    <tr>
        <td>1.4 會員資訊修改</td>
        <td>
            會員能修改自己的<br>
            訊。
        </td>
    </tr>
    <tr>
        <td>1.5 會員查詢</td>
        <td>
            管理員有權限查詢<br>
            所有會員
        </td>
    </tr>
    <tr>
        <td>1.6 檢視所有會員</td>
        <td>
            管理員可以瀏覽所<br>
            有會員
        </td>
    </tr>
    <tr>
        <td>1.7 會員刪除</td>
        <td>
            管理員有權限刪除會員
        </td>
    </tr>
    <tr>
        <td rowspan="6">(2)情緒日誌模組</td>
        <td rowspan="6">
            會員可以針對情緒<br>
            日誌進行增刪改查<br>
            。系統也提供每日<br>
            心情小語給會員。
        </td>
        <td>2.1 新增情緒日誌</td>
        <td>
            會員可以新增一筆<br>
            心情日誌。
        </td>
    </tr>
    <tr>
        <td>2.2 修改情緒日誌 </td>
        <td>
            會員可以修改心情<br>
            日誌。
        </td>
    </tr>
    <tr>
        <td>2.3 刪除情緒日誌 </td>
        <td>
            會員可以刪除心情<br>
            日誌。
        </td>
    </tr>
        <td>2.4 查詢情緒日誌 </td>
        <td>
            會員可以查詢心情<br>
            日誌。
        </td>
    </tr>
    <tr>
        <td>2.5 瀏覽情緒日誌 </td>
        <td>
            會員可以查詢心情<br>
            日誌。
        </td>
    </tr>
    <tr>
        <td>2.6 每日心情小語 </td>
        <td>
            系統會生成每日小<br>
            語給會員看。
        </td>
    </tr>
    <tr>
        <td rowspan="7">(3)管理員模組</td>
        <td rowspan="7">
            描述管理員登入和<br>
            修改自身資訊的動<br>
            作、管理員新增、<br>
            刪除、查詢、瀏覽<br>
            其他管理員與系統<br>
            異動紀錄。
        </td>
        <td>3.1 管理員登入</td>
        <td>
            訪客可以輸入正確<br>
            的帳號密碼以管理<br>
            員的身份登入系統。
        </td>
    </tr>
    <tr>
        <td>3.2 新增管理員</td>
        <td>
            管理員可以新增新<br>
            的管理員。<br>
        </td>
    </tr>
    <tr>
        <td>3.3 刪除管理員</td>
        <td>
            管理員可以新刪除<br>
            現有的管理員。<br>
        </td>
    </tr>
    <tr>
        <td>3.4 修改管理員</td>
        <td>
            管理員可以修改自<br>
            身的資料。<br>
        </td>
    </tr>
    <tr>
        <td>3.5 查詢管理員</td>
        <td>
            管理員可以查詢其<br>
            他管理員。<br>
        </td>
    </tr>
    <tr>
        <td>3.6 檢視所有管理員</td>
        <td>
            管理員可以檢視<br>
            所有管理員。<br>
        </td>
    </tr>
    <tr>
        <td>3.7 瀏覽系統異動紀錄</td>
        <td>
            管理員可以瀏覽<br>
            系統異動的紀錄。<br>
        </td>
    </tr>
    <tr>
        <td rowspan="5">(4)AI諮商模組</td>
        <td rowspan="5">
            本系提供一位AI<br>
            小夥伴供會員進行<br>
            諮商。會員和諮商<br>
            師皆可查看諮商紀錄。
        </td>
        <td>4.1 AI智能諮商</td>
        <td>
            會員可以和系統的<br>
            AI小夥伴進行諮商
        </td>
    </tr>
    <tr>
        <td>4.2 情緒異常偵測</td>
        <td>
            AI小夥伴會隨時<br>
            偵測會員說的話，<br>
            即時偵測會員的情<br>
            緒。能即時偵測會
        </td>
    </tr>
    <tr>
        <td>4.3 緊急通報</td>
        <td>
            若AI小夥伴偵測<br>
            特定的關鍵字，會<br>
            向諮商師發出緊急<br>
            通報。到特定的關<br>
            鍵字，會向諮商師<br>
            發出緊急通報。
        </td>
    </tr>
    <tr>
        <td>4.4 查看AI諮商摘要 </td>
        <td>
            AI小夥伴會將諮<br>
            商紀錄做摘要，提<br>
            供會員和諮商師查<br>
            看。
        </td>
    </tr>
    <tr>
        <td>4.5 查看AI諮商紀錄</td>
        <td>
            會員和諮商師都可<br>
            以查看AI諮商紀錄<br>
            。
        </td>
    </tr>
    <tr>
        <td rowspan="5">(5)心理狀態偵測模組</td>
        <td rowspan="5">
            諮商師的增刪改查<br>
            、查詢與推薦諮商<br>
            師、會員與諮商師<br>
            的留言。  
        </td>
        <td>5.1 心理狀態光譜</td>
        <td>
            系統會偵測會員的<br>
            對話，並偵測從中<br>
            透露出的情緒狀態<br>
            ，以及心理疾病測<br>
            驗的結果，在心理<br>
            狀態光譜上呈現給<br>
            諮商師看。
        </td>
    </tr>
    <tr>
        <td>5.2 潛在憂鬱者偵測</td>
        <td>
            系統會依照其言語<br>
            透漏的情緒狀態，<br>
            以及心理疾病測驗<br>
            的結果，偵測是否<br>
            有憂鬱之情況並呈<br>
            現給諮商師。
        </td>
    </tr>
    <tr>
        <td>5.3 憂鬱程度分群</td>
        <td>
            系統會依照其言語<br>
            透漏的情緒狀態，<br>
            以及心理疾病測驗<br>
            的結果，將案主做分<br>
            群。
        </td>
    </tr>
    <tr>
        <td>5.4 生活近況關鍵字分析</td>
        <td>
            系統會依案主和AI小夥伴對話的內容統整出生活近況的關鍵字。
        </td>
    </tr>
    <tr>
        <td>5.5 心理測驗問卷</td>
        <td>
            系統提供心理測驗問卷讓會員更了解自己。
        </td>
    </tr>
    <tr>
        <td rowspan="7">(6)諮商師管理模組</td>
        <td rowspan="7">
            諮商師的增刪改查<br>
            、查詢與推薦諮商<br>
            師、會員與諮商師<br>
            的留言。  
        </td>
        <td>6.1 諮商師註冊</td>
        <td>
            諮商師可以註冊成<br>
            為諮商師。
        </td>
    </tr>
    <tr>
        <td>6.2 諮商師登入</td>
        <td>
            諮商師可以登入系統。
        </td>
    </tr>
    <tr>
        <td>6.3 忘記密碼</td>
        <td>
            諮商師可以修改自<br>
            己的資料。
        </td>
    </tr>
    <tr>
        <td>6.4 諮商師修改資訊</td>
        <td>
            諮商師可以修改自<br>
            己的資料。
        </td>
    </tr>
    <tr>
        <td>6.5 刪除諮商師 </td>
        <td>
            諮商師可以刪除諮<br>
            的帳號。
        </td>
    </tr>
    <tr>
        <td>6.6 檢視所有諮商師 </td>
        <td>
            管理員可以檢視所有諮商師的資料。
        </td>
    </tr>
    <tr>
        <td>6.7 諮商師推薦</td>
        <td>
            系統可以向用戶推<br>
            薦適合的諮商師。
        </td>
    </tr>
    <tr>
        <td rowspan="7">(7)案主管理模組</td>
        <td rowspan="7">
            描述諮商師與案主<br>
            之間所有的功能。  
        </td>
        <td>7.1 檢視所有案主</td>
        <td>
            諮商師和管理員可<br>
            以看見所有配對好<br>
            的案主。
        </td>
    </tr>
    <tr>
        <td>7.2 查詢所有案主</td>
        <td>
            諮商師和管理員可<br>
            以查詢所有配對好<br>
            的案主。
        </td>
    </tr>
    <tr>
        <td>7.3 諮商師案主留言</td>
        <td>
            諮商師和案主可以<br>
            互相留言。
        </td>
    </tr>
    <tr>
        <td>7.4 諮商師與案主配對</td>
        <td>
            會員可透果系統提<br>
            供的配對功能，與<br>
            諮商師建立連結。
        </td>
    </tr>
    <tr>
        <td>7.5 結束案主合作</td>
        <td>
            諮商師可以結束語<br>
            案主的合作。
        </td>
    </tr>
    <tr>
        <td>7.6 編輯案主狀況筆記</td>
        <td>
            諮商師可以紀錄案<br>
            主相關筆記。
        </td>
    </tr>
    <tr>
        <td>7.7 案主儀表板</td>
        <td>
            諮商師可以查看<br>
            5.1 心理狀態光譜、 <br>
            5.2潛在憂鬱者偵測、 <br>
            5.3 憂鬱程度分群、 <br>
            5.4 生活近況關鍵字分析。
        </td>
    </tr>
    <tr>
        <td rowspan="5">(8)諮商日程模組</td>
        <td rowspan="5">
            描述諮商師與案主<br>
            之間所有的功能。  
        </td>
        <td>8.1 新增諮商日程</td>
        <td>
            諮商師可以新增與<br>
            案主諮商的日程。
        </td>
    <tr>
        </td>
        <td>8.2 修改諮商日程</td>
        <td>
            諮商師可以修改與<br>
            案主諮商的日程。
        </td>
    </tr>
    <tr>
        </td>
        <td>8.3 刪除諮商日程</td>
        <td>
            諮商師可以刪除與<br>
            案主諮商的日程。
        </td>
    </tr>
    <tr>
        </td>
        <td>8.4刪除諮商日程</td>
        <td>
            諮商師可以刪除與<br>
            案主諮商的日程。
        </td>
    </tr>
    <tr>
        </td>
        <td>8.5 檢視諮商行事曆</td>
        <td>
            諮商師可以檢視與<br>
            案主最近未來一次諮商的日程。
        </td>
    </tr>
    <tr>
        </td>
        <td>8.5 檢視諮商行事曆</td>
        <td>
            諮商師可以檢視與<br>
            案主所有的諮商的日程。
        </td>
    </tr>
</table>

#### :small_blue_diamond:2.4.2 功能清單概述

- ***1.0  會員管理模組:***</br>
本使用案例包含「1.1會員註冊」至「1.7會員刪除」七個使用案例。</br>描述訪客註冊會員、登入會員、忘記密碼，會員可修改自身資料。對於管理員來說則能檢視所有會員、查詢特定會員、維護所有會員資料與刪除會員帳號。

  - 1.1 會員註冊：
    訪客可透過此功能註冊成為會員，需其電子信箱當作帳號，並設定密碼、姓名、電話、出生年月日、個人資訊。

  - 1.2 會員登入：
    會員可透過此功能登入。訪客可輸入正確的帳號、密碼進行登入，若錯誤過多次將限制登入次數。

  - 1.3 忘記密碼：
    訪客可透過此功能，利用寄送到註冊信箱的驗證碼來找回密碼。

  - 1.4 會員修改資訊：
    會員可透過此功能修改自身資料，但信箱不可更改。 </br>
    管理員可透過此功能透過輸入會員相關資訊，對指定之會員的所有資料進行維護 與修改。

  - 1.5 會員查詢：
    管理員可透過輸入信箱，查詢特定會員的詳細資料，包含信箱、電話、姓名、生日、加密過的密碼亂碼，不能直接讀取密碼。

  - 1.6 檢視所有會員：
    管理員可透過此功能一次檢視所有會員的詳細資料，包含信箱、電話、姓名、生日、加密過的密碼亂碼，不能直接讀取密碼。

  - 1.7 會員刪除：
    管理員可透過此功能刪除會員及其資料。

- ***2.0  情緒日誌管理模組:***</br>
情緒日誌模組包含「2.1新增情緒日誌」至「2.6查看每日心情小語」六個使用案例。</br>描述案主新增情緒日誌、修改情緒日誌、刪除情緒日誌、查詢情緒日誌、瀏覽情緒日誌、查看每天顯示之心情小語。

  - 2.1 新增情緒日誌:
    會員可透過此功能填寫每日的情緒日誌，情緒日誌由當日心情、參與之活動、小日記等三個欄位組成，只能填寫當日之日誌。

  - 2.2 修改情緒日誌:
    會員可透過此功能修改情緒日誌。

  - 2.3 刪除情緒日誌:
    會員可透過此功能刪除情緒日誌。

  - 2.4 查詢情緒日誌:
    會員可透過此功能，依照關鍵字查詢包含關鍵字的相關情緒日誌。

  - 2.5 瀏覽情緒日誌:
    會員可透過此功能瀏覽並檢視所有情緒日誌。

  - 2.6 每日心情小語:
    會員可透過此功能檢視每日的心情小語，心情小語是由系統每日生成。

- ***3.0  管理員管理模組:***</br>
管理員管理模組包含「3.1管理員登入」到「3.7瀏覽管理員」七個使用案例。</br>
描述管理員登入和修改自身資訊的動作、管理員新增、刪除、查詢、瀏覽其他管理員與系統異動紀錄。

  - 3.1 管理員登入:
    管理員可透過此功能登入。訪客可透過輸入正確的帳號、密碼進行登入，若錯誤過多次將限制登入次數。

  - 3.2 新增管理員:
    管理員可透過此功能新增更多管理員。

  - 3.3 刪除管理員:
    管理員可透過此功能刪除其他管理員。

  - 3.4 修改管理員:
    管理員可透過此功能修改自身資訊，如密碼。

  - 3.5 查詢管理員:
    管理員可透過此功能查詢特定管理員。

  - 3.6 檢視所有管理員:
    管理員可透過此功能瀏覽其他管理員。

  - 3.7 瀏覽系統異動紀錄:
    管理員可透過此功能瀏覽系統異動的紀錄。

- ***4.0  AI諮商模組:***</br>
Ai諮商模組包含「4.1 AI智能諮商」與「4.5檢視AI諮商紀錄」五個使用案例。</br>
描述會員使用AI諮商的功能、偵測情緒異常，諮商師會在系統判定嚴重程度達標時收到緊急通報，會員和諮商師皆可以檢視諮商的摘要，會員可以查看完整諮商對話紀錄、諮商師在其案主同意後也可以看完整記錄。

  - 4.1 AI智能諮商:
    會員可透過此功能與AI進行智能諮商。

  - 4.2 情緒異常偵測:
    會員進行智能諮商與編寫情緒日誌時，系統會在背景持續進行情緒異常偵測，偵測是否有情緒不穩定與危險言論。

  - 4.3 緊急通報:
    系統在會員的言論嚴重程度達到特定標準時將會通報諮商師端緊急進行處理。

  - 4.4 檢視AI諮商摘要:
    會員、諮商師可透過此功能檢視每次諮商過後的大綱摘要。

  - 4.5 檢視AI諮商紀錄:
    會員可透過此功能檢視每次諮商的完整紀錄，並可以自行決定是否要讓諮商師可以也進行完整紀錄檢視。

- ***5.0  心理狀態偵測模組:***</br>
心理狀態偵測模組包含「5.1 心理狀態光譜」與「5.4 生活近況關鍵字分析」四個使用案例。</br>
描述會員在初次使用系統並進行初次的智能諮商後，會按其情緒情況進行潛在憂鬱者偵測與憂鬱程度分群。在其日後使用AI諮商與情緒日誌的功能時，系統每日皆會依照其當日情況重新計算心理狀態光譜、憂鬱偵測與憂鬱程度分群的調整，以及生活近況關鍵字分析。

  - 5.1 心理狀態光譜:
    會員在進行 4.1 AI智能諮商與 2.1 新增情緒日誌後，系統會依照其言語透漏的情緒狀態，將評分呈現在心理狀態光譜上並呈獻給會員與諮商師。

  - 5.2 潛在憂鬱者偵測:
    會員在進行 4.1 AI智能諮商與 2.1 新增情緒日誌後，系統會依照其言語透漏的情緒狀態，偵測是否有憂鬱之情況並呈現給諮商師。

  - 5.3 憂鬱程度分群:
    會員在進行 4.1 AI智能諮商與 2.1 新增情緒日誌後，系統會依照其言語透漏的情緒狀態，自動將其於諮商師端做憂鬱程度分群的動作，分為良好、適中、嚴重。

  - 5.4 生活近況關鍵字分析:
    會員在進行 4.1 AI智能諮商與 2.1 新增情緒日誌後，系統會依照其談話內容，自動於諮商師端做相關關鍵字的呈現。

- ***6.0  諮商師管理模組:***</br>
諮商師管理模組包含「6.1 諮商師註冊」與「6.7 諮商師推薦」七個使用案例。</br>
描述訪客在經過身分驗證後註冊為諮商師、登入、忘記密碼，諮商師可以修改自身資訊，管理員可以修改所有諮商師之資訊、檢視所有諮商師與刪除諮商師，會員可以進行諮商師推薦尋找適合的諮商師。

  - 6.1 諮商師註冊:
    訪客在進行身分驗證，確認其具有合理諮商資格後才能註冊。需其電子信箱當作帳號，並設定密碼、姓名、電話、出生年月日、個人資訊。

  - 6.2 諮商師登入:
    諮商師可透過此功能登入。訪客可透過輸入正確的帳號、密碼進行登入，若錯誤過多次將限制登入次數。

  - 6.3 忘記密碼：
    訪客可透過此功能，利用寄送到註冊信箱的驗證碼來找回密碼。

  - 6.4 諮商師修改資訊：
    諮商師可透過此功能修改自身資料，但信箱不可更改。 </br>
    管理員可透過此功能透過輸入諮商師相關資訊，對指定之諮商師的所有資料進行維護與修改。

  - 6.5 刪除諮商師：
    管理員可透過此功能刪除諮商師及其資料。

  - 6.6 檢視所有諮商師：
    管理員可透過此功能一次檢視所有諮商師的詳細資料，包含信箱、電話、姓名、生日、加密過的密碼亂碼，不能直接讀取密碼。

  - 6.7 諮商師推薦:
    會員可透過此功能，在進行 7.4 諮商師與案主配對時於上方畫面將三位系統推薦之諮商師顯示於畫面上，可以按重新整理鍵更新推薦諮商師。

- ***7.0  案主管理模組:***</br>
案主管理模組包含「7.1 檢視所有案主」與「7.7 案主儀錶板」七個使用案例。</br>
描述諮商師檢視、查詢其所有案主、與案主進行留言、答應或結束與案主之配對、編輯案主狀況筆記與案主儀表板，管理員可檢視、查詢所有諮商師已配對之案主。

  - 7.1 檢視所有案主:
    諮商師可透過此功能檢視所有已配對之案主。 </br>
    管理員可透過此功能檢視所有諮商師已配對之案主。

  - 7.2 查詢所有案主:
    諮商師可透過此功能查詢所有已配對之案主。</br>
    管理員可透過此功能查詢所有諮商師已配對之案主。

  - 7.3 諮商師與案主留言：
    諮商師可透過此功能針對不同的案主進行留言，留言具有字數限制避免成為聊天管道。

  - 7.4 諮商師與案主配對：
    會員可透過填寫表單，選取諮商主題、困擾程度、最想要的三名諮商師的排序，向一次最多三位諮商師發出配對請求。 </br>
    諮商師可透過此功能接受或拒絕會員所送出的配對請求，決定是否成為諮商師-案主之關聯。

  - 7.5 結束案主合作：
    諮商師可透過此功能結束與案主之連結。 </br>
    管理員可透過此功能結束所有諮商師與業主之連結。

  - 7.6 編輯案主狀況筆記：
    諮商師可透過此功能紀錄案主相關之事項。

  - 7.7 案主儀錶板:
    諮商師可透過此功能在諮商師端即可看到案主相關指數，如 5.1 心理狀態光譜、 5.2潛在憂鬱者偵測、 5.3 憂鬱程度分群、 5.4 生活近況關鍵字分析。

- ***8.0  諮商日程模組:***</br>
諮商日程模組包含「8.1 新增諮商日程」與「8.5 檢視諮商行事曆」五個使用案例。</br>
描述諮商師可新增、修改、刪除、檢視諮商日程與查看諮商行事曆。會員可檢視諮商日程。

  - 8.1 新增諮商日程:
    諮商師可透過此功能新增未來諮商日程。

  - 8.2 修改諮商日程:
    諮商師可透過此功能修改未來諮商日程。

  - 8.3 刪除諮商日程：
    諮商師可透過此功能刪除未來諮商日程。

  - 8.4 檢視諮商日程：
    會員可透過此功能檢視最近一次的未來諮商日程詳細資訊，諮商師可透過此功能檢視所有過去與未來的諮商日程詳細資訊。

  - 8.5 檢視諮商行事曆：
    諮商師可透過此功能檢視所有諮商日程。

### 2.5 非功能性需求
>
1. 會員、諮商師帳號不能重複。
2. 系統必須能夠至少讓600位訪客/會員/管理員同時登入系統。
3. 系統登陸過程需在3秒中內完成。
4. AI小夥伴的答覆時間需在3秒之內完成。
6. 資料庫之寫入與讀取速度必須能搭配網頁載入秒樹之需求。
7. 案主與諮商師的比例為1:N。
8. 使用App時必須同意App的terms and service。

## 第三章-使用者案例

### 3.1 使用案例圖

### 3.2 使用案例規格

#### 使用案例 1.0會員模組 規格

- 商業流程編號：1.0
- 摘要描述：本使用案例包含「1.1會員註冊」至「1.7會員刪除」七個使用案例。</br>描述訪客註冊會員、登入會員、忘記密碼，會員可修改自身資料。對於管理員來說則能檢視所有會員、查詢特定會員、維護所有會員資料與刪除會員帳號。
- 行為者：會員、管理員

|模組|功能名稱|
|-|--|
|1.0會員模組|1.1會員註冊|
||1.2會員登入|
||1.3忘記密碼|
||1.4會員修改資訊|
||1.5會員查詢|
||1.6檢視所有會員|
||1.7刪除會員|

#### 使用案例 1.1會員註冊 規格

- 商業流程編號：1.1
- 主要動作者：會員
- 支援動作者：無
- 摘要描述： 訪客可透過此功能註冊成為會員，需其電子信箱當作帳號，並設定密碼、姓名、電話、出生年月日、個人資訊。
- 前置條件：無
- 後置條件：顯示成功訊息，並回到登入畫面，會員可以進行商業流程「1.2 會員登入」
- 介面藍圖：
- 主要流程
    1. 會員開啟app進入登入畫面
    2. 輸入使用者自行設定的帳號與密碼，點擊註冊按鈕
    3. 點擊註冊按鈕後，系統判定是否為有效的帳號
    4. 若驗證成功則新增帳號
    5. 結束本使用案例
- 替代流程
    1. 若帳號驗證失敗則在帳號密碼欄位顯示警告訊息
- 特殊需求：無
- 輔助說明：無
- 資料元素

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|帳號|文字 (50)|1.必填欄位||
|2|密碼|文字 (20)|1.必填欄位||

#### 使用案例 2.0情緒日誌模組 規格

- 商業流程編號：2.0
- 摘要描述：情緒日誌模組包含「2.1新增情緒日誌」至「2.6查看每日心情小語」五個使用案例，描述案主新增情緒日誌、修改情緒日誌、刪除情緒日誌、查詢情緒日誌、查看每天顯示之心情小語。
- 行為者：會員

|模組|功能名稱|
|-|--|
|2.0情緒日誌模組|2.1新增情緒日誌|
||2.2修改情緒日誌|
||2.3刪除情緒日誌|
||2.4查詢情緒日誌|
||2.5瀏覽情緒日誌|
||2.6查看每日心情小語|

#### 使用案例 2.1新增情緒日誌 規格

- 商業流程編號：2.1
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：會員可以填寫每日的情緒日誌，情緒日誌由當日心情、參與之活動、小日記等三個欄位組成，只能填寫當日之日誌。
- 前置條件：會員完成商業流程編號「會員登入」並且進入商業流程編號「2.5 瀏覽情緒日誌」。
- 後置條件：顯示成功訊息，並在商業流程「2.5 瀏覽情緒日誌」介面中看到新增的情緒日誌紀錄及新增時間。
- 介面藍圖：
- 主要流程
    1. 會員進入瀏覽情緒日誌畫面，點選新增情緒日誌按鈕
    2. 進入新增情緒日誌介面，選擇本日心情、本日活動以及輸入今日心情
    3. 點擊完成按鈕後系統判斷必填欄位是否為空值
    4. 若驗證成功則新增情緒日誌紀錄
    5. 若驗證失敗則在必填欄位顯示警告訊息
    6. 儲存情緒日誌於後端資料庫後進行使用案例 心理狀況偵測、情緒異常偵測以及生活近況關鍵字分析
    7. 新增後端資料庫之系統異動紀錄
    8. 新增完成後顯使新增成功訊息
    9. 瀏覽情緒日誌介面的新增按鈕隱藏且出現最新情緒日誌紀錄
    10. 結束本使用案例
- 替代流程
    1. 若會員本日已經擁有情緒日誌紀錄，瀏覽情緒日誌介面之新增按鈕則隱藏
- 特殊需求：無
- 輔助說明：無
- 資料元素

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|今日心情|Int (4)|1.畫面上為必填欄位||
|2|今日活動|文字 (10)|1.非必填欄位||
|3|今日文字紀錄|文字 (300)|1. 非必填欄位||

#### 使用案例 2.2修改情緒日誌 規格

- 商業流程編號：2.2
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：會員可以修改情緒日誌。
- 後置條件：顯示成功訊息，並在商業流程「2.5 瀏覽情緒日誌」介面中看到更新的情緒日誌紀錄及最近更新時間。
- 介面藍圖：
- 主要流程：
    1. 會員進入瀏覽情緒日誌畫面，點選欲修改之情緒日誌紀錄進入修改情緒日誌介面，顯示前一次紀錄編輯的原始今日心情、今日活動以及輸入今日心情
    2. 使用者點選編輯按鈕
    3. 使用者修改今日心情、今日活動以及輸入今日心情
    4. 點擊完成按鈕後系統判斷必填欄位是否為空值
        - 若驗證成功則更新情緒日誌紀錄
        - 若驗證失敗則在必填欄位顯示警告訊息
    5. 更新情緒日誌於後端資料庫後進行使用案例 心理狀況偵測、情緒異常偵測以及生活近況關鍵字分析
    6. 新增後端資料庫之系統異動紀錄
    7. 更新完成後顯使修改成功訊息
    8. 瀏覽情緒日誌介面出現最新修改情緒日誌紀錄及最近更新時間
    9. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：
    1. 使用者進入情緒日誌詳細記錄時，畫面欄位階為禁用 (disabled) 狀態不可更動
    2. 畫面初始時，將原始情緒日誌資料回填所屬欄位
- 資料元素

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|今日心情|Int (4)|1. 畫面上為必填欄位 <br> 2.初始值為原始情緒日誌之今日心情||
|2|今日活動|文字 (10)|1. 非必填欄位<br> 2.初始值為原始情緒日誌之今日活動||
|3|今日文字紀錄|文字 (300)|1. 非必填欄位<br> 2.初始值為原始情緒日誌之今日文字記錄||

#### 使用案例 2.3刪除情緒日誌 規格

- 商業流程編號：2.3
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：會員可以刪除情緒日誌。
- 前置條件：會員完成商業流程編號「會員登入」並且進入商業流程編號「2.5 瀏覽情緒日誌」。
- 後置條件：顯示成功訊息，並在商業流程「2.5 瀏覽情緒日誌」介面中看到欲刪除的情緒日誌紀錄消失於介面中。
- 介面藍圖：
- 主要流程：
    1. 會員進入瀏覽情緒日誌畫面，點選欲修改之情緒日誌紀錄
    1. 進入修改情緒日誌介面，顯示前一次紀錄編輯的原始今日心情、今日活動以及輸入今日心情
    1. 使用者點選刪除按鈕
    1. 系統顯示是否刪除情緒日誌紀錄提醒
    1. 使用者點選確認
    1. 系統刪除前端的使用者情緒日誌紀錄
    1. 新增後端資料庫之系統異動紀錄
    1. 刪除完成後顯使刪除成功訊息
    1. 瀏覽情緒日誌介面更新最新情緒日誌列表，刪除的情緒日誌紀錄消失於介面中
    1. 結束本使用案例
- 替代流程：
    1. 5a. 使用者點選取消，系統不異動資料，直接將畫面跳轉至瀏覽情緒日誌詳細記錄的介面
- 特殊需求：無
- 輔助說明：
    1. 使用者進入情緒日誌詳細記錄時，畫面欄位階為禁用 (disabled) 狀態不可更動
    2. 畫面初始時，將原始情緒日誌資料回填所屬欄位
- 資料元素

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|今日心情|Int (4)|1. 畫面上為必填欄位 <br> 2.初始值為原始情緒日誌之今日心情||
|2|今日活動|文字 (10)|1. 非必填欄位<br> 2.初始值為原始情緒日誌之今日活動||
|3|今日文字紀錄|文字 (300)|1. 非必填欄位<br> 2.初始值為原始情緒日誌之今日文字記錄||

#### 使用案例 2.4查詢情緒日誌 規格

- 商業流程編號：2.4
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：會員可以依照關鍵字查詢包含關鍵字的相關情緒日誌。
- 前置條件：會員完成商業流程編號「會員登入」並且進入商業流程編號「2.5 瀏覽情緒日誌」。
- 後置條件：顯示內容符合關鍵字的情緒日誌列表。
- 介面藍圖：
- 主要流程：
    1. 會員進入瀏覽情緒日誌畫面，在搜尋列輸入欲查詢的關鍵字
    2. 系統後端依照關鍵字查詢相關的所有情緒日誌，並顯示於瀏覽情緒日誌介面
    3. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：無

#### 使用案例 2.5瀏覽情緒日誌 規格

- 商業流程編號：2.5
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：會員可以瀏覽並檢視所有情緒日誌。
- 前置條件：會員完成商業流程編號「會員登入」並且點選情緒日誌模組分頁。
- 後置條件：顯示所有情緒日誌列表。
- 介面藍圖：
- 主要流程：
    1. 會員進入瀏覽情緒日誌畫面
    2. 系統從後端資料庫叫出所有情緒日誌紀錄，並顯示於介面
    3. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：無

#### 使用案例 2.6每日心情小語 規格

- 商業流程編號：2.6
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：會員可以瀏覽系統隨機生成的每日勵志心情小語。
- 前置條件：會員完成商業流程編號「會員登入」，並進入app主畫面。
- 後置條件：顯示心情小語於會員app主畫面的每日心情小語區塊。
- 介面藍圖：
- 主要流程：
    1. 會員進入app主畫面
    2. 系統從後端資料庫隨機選擇勵志心情小語，並顯示於介面
    3. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：無

#### 使用案例 4.0 AI諮商模組 規格

- 商業流程編號4.0
- AI諮商模組包括「4.1 智能諮商」、「4.2 情緒異常偵測」、「4.3 緊急通報」「4.4 查看AI諮商摘要」、「4.5 查看AI諮商紀錄」五個使用案例。此模組聚焦在會員/案主和AI小夥伴的諮商對話、對話中可能會觸發的緊急功能、以及諮商完畢的紀錄和摘要
行為者:會員、諮商師

|模組|功能名稱|
|-|--|
|AI諮商模組|4.1 智能諮商|
||4.2 情緒異常偵測|
||4.3 緊急通報|
||4.4 查看AI諮商摘要|
||4.5 查看AI諮商紀錄|

#### 使用案例 4.1心理狀態偵測模組 規格

- 商業流程編號: 4.1
- 主要動作者: 會員
- 支援動作者: 無
- 摘要描述: 會員可以與AI小夥伴進行諮商對話，會員可以選擇是完全公開對話內容讓諮商師知道，若拒絕諮商師仍可知道諮商摘要、近期關鍵字等。
- 前置條件: 會員完成商業流程編號「1.2 會員登入」。
- 後製條件: 與AI小夥伴結束對話後，會存在AI諮商紀錄。
- 介面藍圖:
- 主要流程
  1. 會員點擊與AI小夥伴進行諮商對話。
  2. 對話完成後，點擊結束對話。
  3．此次的對話紀錄會紀錄在AI諮商紀錄裡面
- 替代流程:
  無
- 特殊需求: 無
- 輔助說明: 無

#### 使用案例 4.2 情緒異常偵測 規格

- 商業編號流程: 4.2
- 主要動作者: 會員
- 支援動作者: 無
- 摘要描述: 當會員再與AI小夥伴進行諮商對話時，若偵測到敏感字眼，會執行「4.3 緊急通報」。
- 前置條前: 正在進行「4.1 AI智能諮商」。
- 後製條件: 執行「4.3 緊急通報」。
- 介面藍圖:
- 主要流程:
  1. 會員與AI小夥伴進行諮商對話。
  2. 會員提及敏感字眼，如自我傷害相關字詞。
  3. 執行「4.3 緊急通報」
- 替代流程:
  1. 會員與AI小夥伴進行諮商對話。
  2. 會員未提及敏感字眼。
  3. 結束對話，如「4.1 AI智能諮商」
- 特殊需求: 無
- 輔助需求: 無

#### 使用案例 4.3 緊急通報 規格

- 商業編號流程: 4.3
- 主要動作者: 會員
- 支援動作者: 無
- 摘要描述: 通知緊急聯絡人、通知119
- 前置條件: 「4.2 情緒異常偵測」觸發
- 後製條件: 播打119和通知緊急聯絡人
- 主要流程:
  1. 會員與AI小夥伴進行諮商對話。
  2. 會員提及敏感字眼，如自我傷害相關字詞。
  3. 播打119和通知緊急聯絡人。
- 替代流程
  1. 會員與AI小夥伴進行諮商對話。
  2. 會員未提及敏感字眼。
  3. 結束對話，如「4.1 AI智能諮商」
- 特殊需求: 通知緊急聯絡人、通知119
- 輔助需求: 無

#### 使用案例 4.4 查看AI諮商摘要 規格

- 商業編號流程: 4.4
- 主要動作者: 會員、諮商師
- 支援動作者: 無
- 摘要描述:會員和諮商師皆可查看諮商摘要
- 前置條件: 已進行「4.1 AI智能諮商」
- 後製條件: 無
- 主要流程:
  1. 會員與AI小夥伴進行諮商對話。
  2. 對話完成後，點擊結束對話。
  3. 點擊查看AI諮商摘要
- 替代流程
  1. 若會員未與AI小夥伴進行諮商對話，則無諮商摘要可查看
- 特殊需求: 無
- 輔助需求: 無

#### 使用案例 4.5 查看AI諮商紀錄 規格

- 商業編號流程: 4.4
- 主要動作者: 會員
- 支援動作者: 諮商師
- 摘要描述: 會員可查看AI諮商紀錄。若會員允許，諮商師也可查看AI諮商紀錄。
- 前置條件: 已進行「4.1 AI智能諮商」
- 後製條件: 無
- 主要流程:
  1. 會員與AI小夥伴進行諮商對話。
  2. 對話完成後，點擊結束對話。
  3. 點擊查看AI諮商紀錄
- 替代流程
  1. 若會員未與AI小夥伴進行諮商對話，則無諮商紀錄可查看
- 特殊需求: 無
- 輔助需求: 無

#### 使用案例 5.0心理狀態偵測模組 規格

- 商業流程編號：5.0
- 心理狀態偵測模組包含「5.1 心理狀態光譜」、「5.2 潛在憂鬱者偵測」、「5.3 憂鬱程度分群」、「5.4 生活近況關鍵字分析」四個使用案例。描述會員在初次使用系統並進行初次的智能諮商後，會按其情緒情況進行潛在憂鬱者偵測與憂鬱程度分群。在其日後使用AI諮商與情緒日誌的功能時，系統每日皆會依照其當日情況重新計算心理狀態光譜、憂鬱偵測與憂鬱程度分群的調整，以及生活近況關鍵字分析。
- 行為者：會員

|模組|功能名稱|
|-|--|
|5.0心理狀態偵測模組|5.1 心理狀態光譜|
||5.2 潛在憂鬱者偵測|
||5.3 憂鬱程度分群|
||5.4 生活近況關鍵字分析|

#### 使用案例 5.0心理狀態偵測模組 規格

#### 使用案例 5.1 心理狀態光譜 規格

- 商業流程編號：5.1
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：系統會根據會員填寫的情緒日誌或是AI諮商紀錄的文字內容進行心理狀態的分析，提供給會員參考，或是在會員與諮商師建立連結後提供給諮商師參考(經過會員同意的狀態下)。
- 前置條件：會員完成商業流程編號「會員登入」並且使用過商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」。
- 後置條件：新增情緒日誌成功或是經過每日AI諮商紀錄摘要後，可以在APP首頁看到心理狀態光譜。
- 介面藍圖：
- 主要流程
    1. 商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」
    2. 系統根據語言模型分析會員的情緒日誌和AI諮商摘要的文字內容。
    3. 以橫向進度條的方式，在APP首頁顯示分析結果(心理狀態)偏向"低落"還是"良好"。
- 替代流程
    1. 如果會員沒有使用過商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」，會在心理狀態光譜的顯示位置以文字提醒會員必須使用前面提到的兩個功能才能獲取心理狀態光譜的分析內容。
- 特殊需求：無
- 輔助說明：無
- 資料元素

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|心理狀態|Number (1)|0.0(低落)~1.0(良好)||

#### 使用案例 5.2 潛在憂鬱者偵測 規格

- 商業流程編號：5.2
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：系統會根據會員填寫的情緒日誌或是AI諮商紀錄的文字內容進行心理狀態的分析，憂鬱程度分群如果是嚴重的話會以電子郵件通知諮商師。
- 前置條件：會員完成商業流程編號「會員登入」並且使用過商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」。
- 後置條件：將分析的憂鬱程度呈現在諮商師端的網頁。
- 介面藍圖：
- 主要流程
    1. 商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」
    2. 系統根據語言模型分析會員的情緒日誌和AI諮商摘要的文字內容。
    3. 如果商業流程編號「5.3 憂鬱程度分群」為嚴重的話會以電子郵件通知諮商師。
- 替代流程
  - 無
- 特殊需求：無
- 輔助說明：無
- 資料元素
  - 無

#### 使用案例 5.3 憂鬱程度分群 規格

- 商業流程編號：5.3
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：系統會根據會員填寫的情緒日誌或是AI諮商紀錄的文字內容進行心理狀態的分析，將其做憂鬱程度分群的動作，分為良好、適中、嚴重，並呈現在諮商師的網頁。
- 前置條件：會員完成商業流程編號「會員登入」並且使用過商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」。
- 後置條件：將分析的憂鬱程度呈現在諮商師端的網頁。
- 介面藍圖：
- 主要流程
    1. 商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」
    2. 系統根據語言模型分析會員的情緒日誌和AI諮商摘要的文字內容。
    3. 系統會依照其言語透漏的情緒狀態，自動將其憂鬱程度分為良好、適中、嚴重，並呈現在諮商師的網頁。
- 替代流程
  - 如果會員沒有使用過商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」，在諮商師的網頁中一律顯示「尚無資料」。
- 特殊需求：無
- 輔助說明：無
- 資料元素

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|憂鬱程度|Number (1)|1. 0.0~0.3為良好<br>2. 0.3~0.6為適中<br>3. 0.6~1.0為嚴重||

#### 使用案例 5.4 生活近況關鍵字分析 規格

- 商業流程編號：5.4
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：系統會根據會員填寫的情緒日誌或是AI諮商紀錄的文字內容進行分析和整理，於諮商師端做相關關鍵字的呈現。
- 前置條件：會員完成商業流程編號「會員登入」並且使用過商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」。
- 後置條件：將分析和整理後的相關關鍵字呈現在諮商師端的網頁。
- 介面藍圖：
- 主要流程
    1. 商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」
    2. 系統根據語言模型分析會員的情緒日誌和AI諮商摘要的文字內容。
    3. 系統會根據會員的言語內容進行分析和整理，並且將結果以文字雲的形式呈現在諮商師的網頁。
- 替代流程
  - 如果會員沒有使用過商業流程編號「2.1新增情緒日誌」或商業流程編號「4.1 AI智能諮商」，在諮商師的網頁中一律顯示「尚無資料」。
- 特殊需求：無
- 輔助說明：無
- 資料元素

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|相關關鍵字|JSON(尚未訂定)|為了要製作文字雲，關鍵字當作 key，出現頻率當作 value||

#### 使用案例 6.0 諮商師管理模組 規格

- 商業流程編號：6.0
- 摘要描述：諮商師管理模組包含「6.1 諮商師註冊」與「6.7 諮商師推薦」七個使用案例。描述訪客在經過身分驗證後註冊為諮商師、登入、忘記密碼，諮商師可以修改自身資訊，管理員可以修改所有諮商師之資訊、檢視所有諮商師與刪除諮商師，會員可以進行諮商師推薦尋找適合的諮商師。
- 行為者：諮商師、管理員、會員

|模組|功能名稱|
|-|--|
|6.0 諮商師管理模組|6.1 諮商師註冊|
||6.2 諮商師登入|
||6.3 忘記密碼|
||6.4 諮商師修改資訊|
||6.5 刪除諮商師|
||6.6 檢視所有諮商師|
||6.7 諮商師推薦|

#### 使用案例 7.0情緒日誌模組 規格

- 商業流程編號：7.0
- 摘要描述：情緒日誌模組包含「7.1檢視所有案主」至「7.7案主儀表板」七個使用案例。
- 行為者：諮商師、管理員

|模組|功能名稱|
|-|--|
|7.0情緒日誌模組|7.1檢視所有案主|
||7.2查詢所有案主|
||7.3諮商師與案主留言|
||7.4諮商師與案主配對|
||7.5結束案主合作|
||7.6編輯案主狀況筆記|
||7.7案主儀錶板|

#### 使用案例 7.1檢視所有案主(諮商師) 規格

- 商業流程編號：7.1
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師可以檢視所有服務的案主列表。
- 前置條件：諮商師完成商業流程編號「6.2 諮商師登入」並且進入案主管理頁面。
- 後置條件：在檢視所有案主頁面顯示諮商師所服務的所有案主列表。
- 介面藍圖：
- 主要流程
    1. 諮商師進入案主管理頁面
    2. 系統後端搜尋所有諮商師所服務的案主資訊，並顯示於頁面上
    3. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：無

#### 使用案例 7.1檢視所有案主(管理員) 規格

- 商業流程編號：7.1
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：管理員可以檢視指定諮商師的所有服務案主列表。
- 前置條件：管理員完成商業流程編號「管理員登入」並且進入諮商師與案主管理頁面。
- 後置條件：在檢視諮商師與案主管理頁面顯示指定諮商師所服務的所有案主列表。
- 介面藍圖：
- 主要流程
    1. 管理員進入諮商師與案主管理頁面
    2. 系統後端搜尋所有指定諮商師所服務的案主資訊，並顯示於頁面上
    3. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：無

#### 使用案例 7.2查詢案主(諮商師) 規格

- 商業流程編號：7.2
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師可以依關鍵字搜尋案主。
- 前置條件：諮商師完成商業流程編號「6.2 諮商師登入」並且進入商業流程編號「7.1 檢視所有案主」。
。
- 後置條件：在案主管理頁面顯示依關鍵字查詢的相關案主列表。
- 介面藍圖：
- 主要流程
    1. 諮商師進入案主管理頁面
    2. 在搜尋列輸入欲搜尋的案主關鍵字
    3. 系統後端搜尋所有與關鍵字相關的案主列表，並顯示於頁面上
    4. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|關鍵字|文字 (10)|||

#### 使用案例 7.2查詢案主(管理員) 規格

- 商業流程編號：7.2
- 主要動作者：管理員
- 支援動作者：無
- 摘要描述：管理員可以依關鍵字搜尋指定諮商師所服務的案主。
- 前置條件：管理員完成商業流程編號「管理員登入」並且進入商業流程編號「7.1 檢視所有案主」。
。
- 後置條件：在案主管理頁面顯示依關鍵字查詢的相關案主列表。
- 介面藍圖：
- 主要流程
    1. 管理員進入諮商師與案主管理頁面
    2. 在諮商師列表選擇特定諮商師
    3. 在搜尋列輸入欲搜尋的案主關鍵字
    4. 系統後端搜尋所有與關鍵字相關的案主列表，並顯示於頁面上
    5. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|關鍵字|文字 (10)|||

#### 使用案例7.3諮商師與案主留言(諮商師) 規格

- 商業流程編號：7.3
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師可以個別留言給所服務的案主，也可以看見來自案主的留言。
- 前置條件：諮商師完成商業流程編號「6.2 諮商師登入」並且進入商業流程編號「7.7 案主儀表板」。
。
- 後置條件：顯示成功送出留言通知，在案主端的諮商師頁面顯示諮商師的留言內容；在案主儀表板的案主留言區塊可以看見來自案主的留言。
- 介面藍圖：
- 主要流程
    1. 諮商師進入諮商師與案主儀表板頁面
    1. 諮商師可以在案主留言區塊閱讀案主的留言
    1. 在留言給案主文字區塊輸入文字留言並按下送出按鈕
    1. 系統後端資料庫新增最新諮商師留言
    1. 諮商師介面跳出成功留言通知
    1. 案主的諮商師介面顯示來自諮商師的最新留言
    1. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|案主編號|int (10)|1. 根據選定的案主自動帶入編號||
|2|文字留言|文字 (50)|1. 為了避免成為聊天室，限定字數在50字以內||

#### 使用案例7.3諮商師與案主留言(會員) 規格

- 商業流程編號：7.3
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：會員可以留言給所數的諮商師，也可以看見來自諮商師的留言。
- 前置條件：會員完成商業流程編號「會員登入」並且進入諮商師頁面。
。
- 後置條件：顯示成功送出留言通知，在諮商師端的案主儀表板顯示案主的留言內容；在會員的諮商師頁面之諮商師留言區塊可以看見來自諮商師的留言。
- 介面藍圖：
- 主要流程
    1. 會員進入諮商師頁面
    1. 會員可以在諮商師留言區塊閱讀諮商師的留言
    1. 在留言給諮商師文字區塊輸入文字留言並按下送出按鈕
    1. 系統後端資料庫新增最新案主留言
    1. 會員介面跳出成功留言通知
    1. 諮商師的案主儀表板顯示來自會員的最新留言
    1. 結束本使用案例
- 替代流程：無
- 特殊需求：會員必須與特定諮商師有合作連結。
- 輔助說明：無
- 資料元素：

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|諮商師編號|int (10)|1. 根據會員連結的諮商師自動帶入編號||
|2|文字留言|文字 (50)|1. 為了避免成為聊天室，限定字數在50字以內||

#### 使用案例7.4諮商師與案主配對(會員) 規格

- 商業流程編號：7.4
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：會員可以對感興趣的三位諮商師送出合作要求，帶諮商師回覆後系統會進行配對。
- 前置條件：會員完成商業流程編號「會員登入」並且進入諮商師頁面。
- 後置條件：顯示成功送出合作要求通知，在諮商師端的案主管理頁面的新案主請求Table顯示案主的資訊；在會員的諮商師頁面之與諮商師建立連結區塊顯示等待回覆通知。
- 介面藍圖：
- 主要流程
    1. 會員進入諮商師頁面
    1. 會員可以在與諮商師建立連結區塊輸入諮商主題、困擾程度，以及選擇三位想要合作的諮商師
    1. 完成表單填寫後按下送出按鈕
    1. 系統後端資料庫新增最新會員合作要求資訊
    1. 會員介面跳出要求成功送出通知
    1. 諮商師的案主管理之新案主請求區塊顯示新一筆案主資訊
    1. 結束本使用案例
- 替代流程：無
- 特殊需求：會員必須是沒有諮商師合作的身分。
- 輔助說明：無
- 資料元素：

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|會員編號|int (10)|1. 根據會員個人資訊自動帶入編號||
|2|諮商主題|文字 (50)|1. 必填資料||
|3|困擾程度|int(5)|1. 必填資料||
|4|第一志願諮商師|int (10)|1. 前端顯示的文字在後端為諮商師編號 <br>2. 必填資料||
|5|第二志願諮商師|int (10)|1. 前端顯示的文字在後端為諮商師編號 <br>2. 必填資料||
|6|第三志願諮商師|int (10)|1. 前端顯示的文字在後端為諮商師編號 <br>2. 必填資料||
|7|時間戳記|Date (yyyy-mm-dd tt:tt:tt)|1. 系統時間||

#### 使用案例7.4諮商師與案主配對(諮商師) 規格

- 商業流程編號：7.4
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師回覆是否與新案主請求進行合作。
- 前置條件：諮商師完成商業流程編號「諮商師登入」並且進入案主管理頁面。
- 後置條件：顯示成功送出合作回應通知，系統完成合作安排後會寄送Email通知並更新會員與諮商師雙方的前端介面。
- 介面藍圖：
- 主要流程
    1. 諮商師在案主管理之新案主請求區塊按下接受按鈕
    1. 系統後端資料庫新增最新諮商師與案主合作回應資訊
    1. 諮商師介面跳出要求成功回應通知
    1. 結束本使用案例
- 替代流程：
    1. 1a. 諮商師按下拒絕按鈕
- 特殊需求：諮商師必須於12小時內回覆合作請求。
- 輔助說明：無
- 資料元素：

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|諮商師編號|int (10)|1. 根據諮商師個人資訊自動帶入編號||
|2|合作請求流水號|int (10)|1. 系統自動帶入||
|3|合作回應|Boolean(2)|1. 0是拒絕、1是接受||
|4|時間戳記|Date (yyyy-mm-dd tt:tt:tt)|1. 系統時間||

#### 使用案例7.5結束案主合作(諮商師) 規格

- 商業流程編號：7.5
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師結束與案主的合作連結。
- 前置條件：諮商師完成商業流程編號「諮商師登入」並且進入案主管理頁面。
- 後置條件：顯示成功結束合作回應通知，系統完成合作安排後會寄送Email通知諮商合作結案並更新會員與諮商師雙方的前端介面。
- 介面藍圖：
- 主要流程
    1. 諮商師在案主管理列表區塊選擇特定的案主按下結束合作按鈕
    1. 系統後端資料庫更新諮商師與案主合作資訊
    1. 諮商師介面跳出合作結束回應通知
    1. 系統發送電子郵件通知給諮商師與會員
    1. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|諮商師編號|int (10)|1. 根據諮商師個人資訊自動帶入編號||
|2|案主流水號|int (10)|1. 根據諮商師選擇的案主自動帶入||
|3|時間戳記|Date (yyyy-mm-dd tt:tt:tt)|1. 系統時間||

#### 使用案例7.5結束案主合作(管理員) 規格

- 商業流程編號：7.5
- 主要動作者：管理員
- 支援動作者：無
- 摘要描述：管理員結束諮商師與案主的合作連結。
- 前置條件：管理員完成商業流程編號「管理員登入」並且進入諮商師與案主管理頁面。
- 後置條件：顯示成功結束合作回應通知，系統完成合作安排後會寄送Email通知諮商師與會員諮商合作結案，並更新前端介面。
- 介面藍圖：
- 主要流程
    1. 管理員在諮商師與案主管理頁面選擇特定的諮商師以及特定案主按下結束合作按鈕
    1. 系統後端資料庫更新諮商師與案主合作資訊
    1. 諮商師介面跳出合作結束回應通知
    1. 系統發送電子郵件通知給諮商師與會員
    1. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|諮商師編號|int (10)|1. 根據諮商師個人資訊自動帶入編號||
|2|案主流水號|int (10)|1. 根據諮商師選擇的案主自動帶入||
|3|時間戳記|Date (yyyy-mm-dd tt:tt:tt)|1. 系統時間||

#### 使用案例7.6編輯案主狀況筆記 規格

- 商業流程編號：7.6
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師可以對個別案主做筆記。
- 前置條件：諮商師完成商業流程編號「諮商師登入」並且進入案主儀表板頁面。
- 後置條件：系統前端案主狀況筆記區塊更新為最新的筆記內容。
- 介面藍圖：
- 主要流程
    1. 諮商師在案主儀表板頁面選擇特定的案主
    1. 在案主筆記區塊輸入文字內容並按下更新按鈕
    1. 系統後端資料庫更新案主筆記資訊
    1. 諮商師介面跳出上傳成功通知
    1. 諮商師頁面更新為最新筆記內容
    1. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|諮商師編號|int (10)|1. 根據諮商師個人資訊自動帶入編號||
|2|案主流水號|int (10)|1. 根據諮商師選擇的案主自動帶入||
|3|筆記內容|文字 (100)|1. 初始資料為上一次的筆記內容紀錄||
|4|時間戳記|Date (yyyy-mm-dd tt:tt:tt)|1. 系統時間||

#### 使用案例7.7案主儀表板 規格

- 商業流程編號：7.7
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師可以查看個別案主的儀表板，內容包含心理狀況偵測、生活近況壓力等資訊。
- 前置條件：諮商師完成商業流程編號「諮商師登入」並且進入案主儀表板頁面。
- 後置條件：系統前端顯示即時的案主心理狀況數據。
- 介面藍圖：
- 主要流程
    1. 諮商師在案主儀表板頁面選擇特定的案主
    1. 系統後端資料庫取出案主的心理狀統計資訊
    1. 系統取出的資訊顯示於諮商師前端介面
    1. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|案主流水號|int (10)|1. 根據諮商師選擇的案主自動帶入||

#### 使用案例 8.0 諮商日程模組 規格

- 商業流程編號：8.0
- 摘要描述：諮商日程模組包含「8.1 新增諮商日程」與「8.5 檢視諮商行事曆」五個使用案例。</br>
描述諮商師可新增、修改、刪除、檢視諮商日程與查看諮商行事曆。會員可檢視諮商日程。
- 行為者：諮商師、會員

|模組|功能名稱|
|-|--|
|8.0 諮商日程模組|8.1 新增諮商日程|
||8.2 修改諮商日程|
||8.3 刪除諮商日程|
||8.4 檢視諮商日程|
||8.5 檢視諮商行事曆|

#### 使用案例 8.1新增諮商日程 規格

- 商業流程編號：8.1
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師可透過此功能新增尚未過號之實體諮商日程。
- 前置條件：諮商師完成商業流程編號「6.2 諮商師登入」並進入商業流程「8.5 檢視諮商行事曆」頁面。
- 後置條件：顯示成功訊息，並在商業流程「8.5 檢視諮商行事曆」介面中看到新增的情緒日程紀錄。
- 介面藍圖：
- 主要流程：
    1. 諮商師進入商業流程「8.5 檢視諮商行事曆」，點選新增諮商日程按鈕
    1. 進入新增諮商日程介面，選擇諮商對象姓名/編號、諮商日期、諮商時間及諮商地點
    1. 點擊完成按鈕後系統判斷該時段是否已預約、必填欄位是否為空值
        - 若驗證成功則新增實體諮商日程至行事曆中
        - 若驗證失敗則在必填欄位顯示警告訊息
    1. 儲存諮商日程於後端資料庫
    1. 新增後端資料庫之系統異動紀錄
    1. 新增完成後顯示新增成功訊息
    1. 諮商行事曆頁面出現該筆諮商日程紀錄
    1. 結束本使用案例
- 替代流程：
  - 3.a 若諮商師該日同時已經擁有諮商日程，則會顯示給諮商師該時段已有諮商紀錄並不允許諮商師重疊時段
  - 3.b 若必填欄位有空值，則會提示需填空值
- 特殊需求：諮商師不可將兩筆諮商日程於同一時段重疊
- 輔助說明：無
- 資料元素

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|會員編號|int (10)|1. 根據會員個人資訊自動帶入編號||
|2|諮商日期|Date (yyyy-mm-dd )|1. 諮商的日期||
|3|諮商時間|Time (hh:mm:ss - hh:mm:ss )|1. 諮商的時間||
|4|諮商地點|文字 (300)|1. 諮商的實體地點||

#### 使用案例 8.2 修改諮商日程 規格

- 商業流程編號：8.2
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師可透過此功能修改尚未過號之實體諮商日程。
- 前置條件：諮商師完成商業流程編號「6.2 諮商師登入」並進入商業流程「8.5 檢視諮商行事曆」頁面。
- 後置條件：顯示成功訊息，並在商業流程「8.5 檢視諮商行事曆」介面中看到修改後的情緒日程紀錄。
- 介面藍圖：
- 主要流程：
    1. 諮商師進入商業流程「8.5 檢視諮商行事曆」
    1. 進入商業流程「8.4 檢視諮商日程」，進入諮商日程詳細記錄，點擊右下角的修改按鈕
    1. 可依需求選擇修改諮商日期、諮商時間或諮商地點
    1. 點擊完成按鈕後系統判斷修改後的是否有該時段是否已預約、必填欄位是否為空值等問題
        - 若驗證成功則將修改後的實體諮商日程加至行事曆中
        - 若驗證失敗則在必填欄位顯示警告訊息
    1. 儲存諮商日程於後端資料庫
    1. 新增後端資料庫之系統異動紀錄
    1. 新增完成後顯示新增成功訊息
    1. 諮商行事曆頁面出現該筆諮商日程紀錄
    1. 結束本使用案例
- 替代流程：
  - 3.a 若諮商師該日同時已經擁有諮商日程，則會顯示給諮商師該時段已有諮商紀錄並不允許諮商師重疊時段
  - 3.b 若必填欄位有空值，則會提示需填空值
- 特殊需求：無
- 輔助說明：
    1. 諮商師進入諮商日程詳細記錄時，畫面欄位階為禁用 (disabled) 狀態，不可直接更動，需要按下修改後方能修改
    1. 畫面初始時，將原始諮商日程之資料填入欄位

- 資料元素

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|諮商日期|Date (yyyy-mm-dd )|1. 初始值為原諮商的日期||
|2|諮商時間|Time (hh:mm:ss - hh:mm:ss )|1. 初始值為原諮商的時間||
|3|諮商地點|文字 (300)|1. 初始值為原諮商的實體地點||

#### 使用案例 8.3 刪除諮商日程 規格

- 商業流程編號：8.3
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師可透過此功能刪除尚未過號之實體諮商日程。
- 前置條件：諮商師完成商業流程編號「6.2 諮商師登入」並進入商業流程「8.5 檢視諮商行事曆」頁面。
- 後置條件：顯示成功訊息。
- 介面藍圖：
- 主要流程：
    1. 諮商師進入商業流程「8.5 檢視諮商行事曆」
    1. 進入商業流程「8.4 檢視諮商日程」，點擊右下角的修改按鈕鈕
    1. 系統顯示是否刪除諮商日程紀錄提醒
    1. 使用者點選確認
    1. 系統刪除前端的諮商日程紀錄
    1. 新增後端資料庫之系統異動紀錄
    1. 刪除完成後顯示刪除成功訊息
    1. 諮商行事曆介面更新最新的日程，刪除的諮商日程紀錄消失於介面中
    1. 結束本使用案例
- 替代流程：
  - 4.a 使用者點選取消，系統不異動資料，直接將畫面跳轉至諮商日程詳細記錄介面
- 特殊需求：無
- 輔助說明：
    1. 諮商師進入諮商日程詳細記錄時，畫面欄位階為禁用 (disabled) 狀態，不可直接更動。
    2. 畫面初始時，將原始情緒日誌資料回填所屬欄位
- 資料元素

|ID|名稱|類型 (長度)|說明|統一編碼|
|--|--|--|--|--|
|1|諮商日期|Date (yyyy-mm-dd )|1. 初始值為原諮商的日期||
|2|諮商時間|Time (hh:mm:ss - hh:mm:ss )|1. 初始值為原諮商的時間||
|3|諮商地點|文字 (300)|1. 初始值為原諮商的實體地點||

#### 使用案例 8.4 檢視諮商日程(諮商師) 規格

- 商業流程編號：8.4
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師可透過此功能檢視所有過去與未來的諮商日程詳細資訊。
- 前置條件：諮商師完成商業流程編號「6.2 諮商師登入」並進入商業流程「8.5 檢視諮商行事曆」頁面。
- 後置條件：顯示特定諮商日程之內容。
- 介面藍圖：
- 主要流程：
    1. 諮商師進入商業流程「8.5 檢視諮商行事曆」頁面，點選行事曆中的任一諮商日程
    2. 系統後端依照該日期時間，將該筆資料顯示於諮商日程詳細紀錄介面
    3. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：無

#### 使用案例 8.4 檢視諮商日程(會員) 規格

- 商業流程編號：8.4
- 主要動作者：會員
- 支援動作者：無
- 摘要描述：會員可透過此功能檢視最近一次的未來諮商日程詳細資訊。
- 前置條件：會員完成商業流程編號「會員登入」並進入商業流程「8.5 檢視諮商行事曆」頁面。
- 後置條件：顯示特定諮商日程之內容。
- 介面藍圖：
- 主要流程：
    1. 會員進入我與諮商師的頁面
    2. 系統後端依照該期時間，將最近一筆的未來諮商日程詳細資訊顯示於「下一次諮商日程」的框中
    3. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：無

#### 使用案例 8.5 檢視諮商行事曆 規格

- 商業流程編號：8.5
- 主要動作者：諮商師
- 支援動作者：無
- 摘要描述：諮商師可透過此功能檢視所有諮商日程。
- 前置條件：諮商師完成商業流程編號「6.2 諮商師登入」
- 後置條件：顯示諮商行事曆與所有諮商日程。
- 介面藍圖：
- 主要流程：
    1. 諮商師點擊畫面上方的諮商行事曆按鈕
    2. 系統後端依照該諮商師的身分將其所有諮商日程顯示於行事曆中
    4. 結束本使用案例
- 替代流程：無
- 特殊需求：無
- 輔助說明：無
- 資料元素：無
